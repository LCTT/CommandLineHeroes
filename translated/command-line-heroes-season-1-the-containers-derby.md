[#]: collector: (bestony)
[#]: translator: (lujun9972)
[#]: reviewer: ( )
[#]: publisher: ( )
[#]: url: ( )
[#]: subject: (Command Line Heroes: Season 1: The Containers Derby)
[#]: via: (https://www.redhat.com/en/command-line-heroes/season-1/the-containers-derby)
[#]: author: (RedHat https://www.redhat.com/en/command-line-heroes)

Command Line Heroes: Season 1: The Containers_Derby
======

**[00:00:30]** Saron Yitbarek:


你有看过赛马吗?赛马排成一行，蹄子刨着脚下的土壤。你可以想象出这么一副画面。比赛即将开始，优胜者将从这些竞争者中脱颖而出。 

不同的是，比赛的不是马。而是科技世界的诸侯。那么这场比赛中有什么重要的地方呢？ 是怎样的奖励如此珍贵，才会让这些参赛者们排着队，迫不及待地想要得到它? 这是一场关于掌控容器编排技术的竞赛。重要的是，不同于其他的比赛，赢得这场比赛，你不仅仅会是今天的冠军，更有可能在将来持续领先。 

**[00:01:30]** Saron Yitbarek:

我是Saron Yitbarek，这里是代码英雄，一款红帽公司原创的博客。

第五集，容器竞赛。上一集我们见证了 DevOps的崛起，以及一组新工具如何影响了对开发者这一角色的态度。。在这一集栏目中，我们会追溯容器技术崛起的历史，讲述容器技术如何通过支持全新的没有边界的工作，进一步扩展开发者这一的角色。然后我们会一起见证容器标准化是如何为容器编排奠定比赛基础的。这是一场严肃的比赛，也是一场国际化的比赛，吸引了行业里最快，最强大的玩家。他们都准备好了为冲刺终点线而奋力一搏。准备好了吗? 比赛开始了！
 

**[00:02:00]** Saron Yitbarek:

 现在，随着这些赛马离开起点，也许我们应该弄清楚为什么这场比赛如此重要。谁会关心容器呢?好吧，算我一个，但是实际上一开始我也并不知道容器是什么。 以下讲述的是我如何发现容器技术之美的简单故事。 

**[00:02:30]** Saron Yitbarek:

不久之前，我还在为我网站写代码，然后有天我带我的朋友Nadia过来实现一些新的功能。我在保持代码干爽和可读性方面做得很好，当然，也经过了很好的测试。再加入一个新的网站开发者也不是一件难事。对吗？如果你也这样以为，那就错了。这是一个非常繁琐的过程，特别是当我们跑规范化测试时，代码运行正常，但不能让不能保证所有测试在我们两台电脑上全部通过。我们有很奇怪的时区问题。他的Ruby on Rails版本跟我的不同。就是一个很经典的问题：“在你的电脑上可以运行”但是“在我的电脑上就是不行”。 我只号一些修改，让它在我这里正常运行，然后当我把它寄给纳迪亚时，它又会崩溃。。
 
**[00:03:00]** Saron Yitbarek:

 我很清楚，我和Nadia所碰到的这些问题，对于所有的开发者来说都或多或少经历过，甚至当作玩笑来讲。我仅仅把这个当做是我工作的一部分，有些时候必须要忍受的。我没有意识到的是，最终有个办法可以解决这个问题。想象有一种方式可以降低人与人之间的隔阂，想象有一种方法可以让我们使用任意喜欢的工具而依然可以轻松地传递工作成果。想象一下有一种方法可以从开发到测试，再到生产都能保持工作一致性，而不管有多少人在共同协作，不管这些人散布在世界何地。想象在我浪费好几周用最笨的方式传递工作成果前就想到了容器（那该多好）。

**[00:03:30]** Liz Rice:

一个容器实际上就是一个进程。  

**[00:03:30]** Saron Yitbarek:

Liz Rice 是Aqua Security 的一名技术传播者。她描述了容器如此实用的原因。事实上容器把一切打包到了一个整洁并且可以迁移的包中。 
 
**[00:04:00]** Liz Rice:

这就像任何其他的进程一样，不同的是它有着非常受限的世界观。比如，如果你启动一个容器。进程会被授予它自己的根目录，然后它认为自己在查看的是整台计算机的根目录，但实际上它只能查看这个文件系统很少的一个子集。 

**[00:04:30]** Saron Yitbarek:

通过打包一个可执行文件及其所依赖，容器可以在任何笔记本或者云中的虚拟机上运行。带着它本身的执行文件、库和依赖。所有的一切都包含在了容器中。所以，这就是神奇的地方，一个容器在所有的环境中都通过一样的方式来运行。这也就意味着开发者可以轻松地分享协作应用开发，而不用担心计算机之间相互不兼容这个老问题。 

**[00:05:00]** Saron Yitbarek:

 举一个类比的例子希望能够帮助你理解。你有听说过蓝围裙 （Blue Apron) 这家公司吗？ 该服务提供你做饭所需的一切。包括精心按照菜谱卡片搭配好的一切做饭所需要的原料。好的，想象一下如果蓝围裙所能带给你的不仅仅只是还没有处理过的食材，而是一整个厨房，有煤气灶，还有你所需要的全部餐具。一切你需要的都会装到小盒子里放在门阶上。这就是一个容器。在我提到的那种情况下，容器技术就可以很好地解决Nadia入职时所碰到的问题，简单到正如蓝色围裙所提供的服务一样。虚拟机同样也可以提供一个预装好的环境。 但这时我们就不得不抛弃蓝围裙这个比喻，让我们来看一看具体的细节。

**[00:05:30]** Liz Rice:

许多人都认为容器是某种轻量级虚拟化，轻量级的虚拟机，事实上并不是。容器与虚拟机有很大不同。一台虚拟机有自己的一整个操作系统，而容器是分享一个操作系统的，如你所知，所有在同一个计算机上的容器分享同一个操作系统。

**[00:06:00]** Saron Yitbarek:

最后一点，容器和虚拟机可以并肩工作。容器不能替代虚拟机。虚拟化技术仍然可以提高日期（我怀疑是data，数据）系统的效率，并且对于服务器整合非常关键。容器技术的兴起为我们打开了新的大门。不妨这样想，如果我们全部依靠虚拟机的话，运行所有这些仿真服务器，这将产生大量额外的工作负担。一台虚拟机的大小至少是以G为单位的，然而一个容器可能也就只有20M左右。一台虚拟机可能会需要若干分钟来启动。对于网页应用来说这可不是一个好消息。一个轻量级，更快速的虚拟机替代方案早已出现很长时间了。 

**[00:07:30]** Saron Yitbarek:

回顾点历史，1979年出现了一种容器原型。Unix V7的开发者们设计了一种根系统调用，从而可以使环境只包括特定的程序。该突破为我们现在看到的容器技术指明了道路。另一个巨大的进展来源于2008年的 Linux 容器技术。现在，我们有了操作系统级的虚拟化技术。我们终于可以在一个单独的Linux内核上运行多个容器，而无需使用完整的虚拟机。这也就意味着基础架构的成本逐渐减少。不是每一个人都能立马看到容器技术的潜力。

**[00:07:30]** Laura Frank:

容器化真的是一个天才般的想法。而且这个想法是前所未有的。 

**[00:07:30]** Saron Yitbarek:

Laura Frank 是CloudBees的技术总监 


**[00:08:00]** Laura Frank:

只有少部分人了解来龙去脉并且可以运用容器技术。相信随着时间的推移，越来越多的人会接触到容器化的概念，随着越来越多的人开始使用这项技术，同时技术团队和组织通过社区普及容器知识，容器技术会变得愈发普及。 
 

**[00:08:00]** Saron Yitbarek:


正是因为和我们之前提到的与虚拟机的相似性，Laura认为容器的潜力被低估了。 


**[00:08:30]** Laura Frank:

我回想我的职业生涯，那是我还只是个普通的日常技术人员，如果你不是一个系统管理员或者Linux 资深用户的话，容器还是一个刚刚了解到的全新概念。我把它理解为，“跟我所使用一台虚拟机的模式类似，我可以去建立一个可以用完即弃的环境，而且这个环境完全独立，并且使用后自己会进行清理。” 

**[00:08:30]** Saron Yitbarek:

 容器除了保持整洁的用途之外，其实还大有可为。容器将会革新整个行业。并且随着开源项目和社区的兴起，不久之后，充分的容器标准化将变为可能。 

**[00:09:00]** Scott McCarty:

用户界面变得非常简单。

**[00:09:00]** Saron Yitbarek:

Scott McCarty 是红帽的一名资深的容器策略顾问。他真称得上是这个行业的资深人士，他在容器出现前，甚至是虚拟机出现前，就在做这方面的工作了。 

**[00:09:30]** Scott McCarty:

我在一家叫做 Dot-com 1.0的在线零售商工作，我们有上千台物理机，我们用不同的方式在所有这些不同的服务器上一遍又一遍地安装相同的软件。当你从原始的操作系统迁移到虚拟机，然后再到 Linux 容器、Solaris 容器，同样的问题一再出现，你仍然不得不在不同的虚拟机，或者类似操作系统实例的结构体之间管理配置。 
 

**[00:09:30]***Saron Yitbarek:

一旦容器变成规范，一切都将改变。 

**[00:10:00]** Scott McCarty:

 比如，有了很多非常标准化的方式可以去处理现在这些打包好的应用，我认为容器技术的出现从根本上改变了一切。非常容易使用而且还不会造成损害，同时相比于虚拟机更加小巧快捷。

**[00:10:30]** Scott McCarty:

借助 Linux 容器带来的进步，这些新的开源项目和社区使得开发者们可以更好地携手合作。很多我们对于后端的焦虑都被一扫而光。突然间，容器和由它促进的微服务变得十分有吸引力。一旦一种共同的容器语言出现了，障碍会消失，与此同时容器技术改变了我们的工作方式。容器技术也改变了我们学习新技术的步伐。

 
**[00:11:00]** Scott McCarty:

还记得之前我同事 Nadia 遇到的反复出现的问题吗？“在我这端行得通”的场景？ 在容器的世界，这个问题将不复存在。相比于我们之前使用的标准的操作系统，开发者社区见证了容器是如何变得更加快速，容易使用，成本低廉的。容器技术被采纳的速度十分惊人。但是要记得：容器标准的出现仅仅是容器编排这场竞赛的热身。
 
赛马已经整齐排列好，随着信号枪一声令下，它们为了这场比赛的冠军而拼尽全力。这些赛马不是容器本身，更是我们部署和管理所使用的工具。 
 
**[00:12:00]** Saron Yitbarek:

我是Saron Yitbarek,这里是代码英雄。在这场标准容器编排竞赛中，哪位会胜出成为管理所有容器的平台呢？ 起初有两位竞争者处于领先地位。由 Apache驱动的Swarm,和 Docker 驱动的 Mesos。然后怎么样了呢？出现了一位黑马改变了这个格局，那就是谷歌。Linux 设立了云原生计算基金会（CNCF），随后CNCF 推动了谷歌开源的编排引擎 Kubernetes。

[00:12:30** Saron Yitbarek:

现在来看， Mesos 和 Swarm 已经领先 Kubernetes ，对吗？ 它们由 Apache和Docker支持，已经入场了一段时间了。但是 Kubernetes 有其他的“赛马”所不具备的优势。Clayton Coleman 会告诉我们秘密成分是什么。Clayton 是红帽负责 Kubernetes 和 OpenShift 的一名架构师。

**[00:13:00]** Clayton Coleman:

从Kubernetes诞生之初，谷歌就很擅长发起开源项目，并降低项目贡献和参与难度。谷歌极其专注于让开发者和运维人员更加容易开展工作。 我觉得 Kubernetes 和围绕着Kubernetes的社区让大部分人参与进来，并且具有足够的可扩展性，可以解决一些极端的用例。
 
**[00:13:00]***Saron Yitbarek:

在早期，来自于红帽、CoreOs 和谷歌的工程师们都参与到了 Kubernetes 的开发中。随着 Kubernetes 开发到 1.0，不管是创业公司还是大公司都参与其中，一起构建和完善。关键的是，所有这些增长从来都不是只归功于谷歌或者任何一方。 
 


**[00:14:00]** Clayton Coleman:

我喜欢以 Linux 作为类比。Linux 并不是始于 Linus 开始编写内核，然后在用户空间告诉所有人，如何写GCC，如何去建立NGINX或者Apache。相反，内核团队专注于建立一个有效的核心运行系统，并与其他诸如GNU项目的开源社区合作，将在其他Unix上工作的工具引入Linux。因此，许多我们如今所使用的工具，都不是来自于Linux核心团队交付的。 
 
但是 Linux 作为一个整体，相比于内核要宽泛得多，而且我认为这种模式是Kubernetes之所以可以取得现在成就所依赖的优势。随着我们开始建立社区并且聚焦于扩展 Kubernetes，我们试着从一个核心Kubernetes的角度来考虑它，一个分布式集群操作系统的内核。 

**[00:14:30]** Saron Yitbarek:

 在开源世界建立社区的过程中，Kubernetes 已经很好的证明了自己。正如我们在操作系统之战中谈到的 Linux 崛起一样，现如今这场关于容器的战争中，获胜者往往是懂得如何借助社区力量的。事实上，尽管谷歌可能是最早开发 Kubernetes 的，但目前它属于每一位开发者并由云原生计算基金会（CNCF）管理。在GitHub上，Kubernetes 有大约3万的点赞数，而，Swarm和Mesos只有数千。这已经很说明问题了。这就是由我所生，为我所用的技术。 
 
我想了解谷歌的态度。一个如此庞大并且以效益为导向的大公司是怎么做到如此擅长跟其他社区开发者合作的呢？ 我找到了很适合回到这个问题的人- Kelsey Hightower ，谷歌负责容器技术支持的工作人员 。 


**[00:15:30]** Saron Yitbarek:

想想谷歌的地位，它在分布式系统领域具备丰富的经验，还运行着分布在世界各地的许许多多的服务器，因此似乎在 Kubernetes 开发方面有着很大的优势，并且有信心一定能在这场容器竞赛中胜出。那么，当您想到Kubernetes和开源之间的关系时，您是如何看待这种关系的？ 
 
**[00:16:30]** Kelsey Hightower:

我想当谈到基础架构工具，甚至编程语言时，是没有什么选择的。你不可能拥有专有工具，即使它很棒。如果不是开源的，大多数人可能甚至都不会想去了解。而且我认为这也是大多数人会采用像Kubernetes这样的基础架构工具的原因，你可能会对自己说：“好吧，我们就要坚持使用这个版本四五年，也可能我们需要根据自己的一些独特需求来对其进行修改。“一旦走到这一步，就很难说服企业走下去，“嘿，每台服务器的价格是200美元，但是你看不到源代码，所以有需要的话也必须等我们来修改”。

那样的日子一去不复返了。所以我不确定是否真的可以在没有开源的情况下建立基础架构。开源的另一点是可以加入社区，就这点而言我认为 Kubernetes 是个特例。

**[00:16:30]***Saron Yitbarek:

我们回到竞争这个话题。正如你所提到的不仅仅有Kubernetes，还有Docker的Swarm，还有Apache的Mesos ......

**[00:17:00]** Kelsey Hightower:

 所以，我想当人们谈论容器竞赛时，我不确定竞争发生在与Mesos或 Docker之间，我认为竞争发生在没有使用容器的人群之间。是的，你习惯使用自己写的Bash脚本，你挣扎着想要达到目标。而且还没有使用容器编排工具的一方比已选择了Mesos或Swarm的一方，市场要大得多，。

**** [00:17:30]** Kelsey Hightower:

这就是容器战争存在并将继续的原因，真正的关键点在于如何帮助终端用户。 Mesos、Kubernetes或Docker Swarm是否会成为寻求更好解决方案的人们的首选？这一切都还悬而未决，但我会告诉你，像我一样，在这个领域工作的工程师来说，如果你不考虑营销和供应商，我会说“不同的公司，相同的团队。”

**[00:18:00]** Kelsey Hightower:

我们为彼此开发了许多工具，最终以某种方式出现在其他产品中。对？好主意就是好主意。没有理由说，“哦，这是使用Mesos的人正在做的事情，那就忽略吧。这有点愚蠢。所以从技术和社区的角度来看，我们需要对这些想法进行交流。同时也需要竞争来迫使我们都可以进行独立思考，然后最好的想法就会浮出水面，接着我们再选择采用哪种方式来满足目标用户的需要。


**[00:18:30]** Kelsey Hightower:

因此，就这场竞赛而言，仍处于初期阶段，而且这个事情本身不会带来利润。明白我的意思吗？我们不是直接向任何人销售这个产品，这更像是一个平台游戏，对所有人开放，然后用户会选择满足他们需求的那个，这就是我认为Kubernetes在社区方面做得很好的地方，真正开放，真正能解决实际问题。

**[00:18:30]** Saron Yitbarek:

听起来很棒啊。我喜欢这个想法： 在同一个球队踢球，而不要管球队是在什么地方。您觉得谁是容器和编排的未来，可能是 Kubernetes吗？

**[00:19:00]** Kelsey Hightower:

是的，所以我在KubeCon上做了一次主题演讲，所有这些工具都很棒。就像是乐高积木，我们有Kubernetes，你可以选择一种产品用于安全，选择另一种产品用于网络，但最终，作为开发人员而言，你所想要的只是代码测试并希望你的代码可以某种方式以呈现在客户面前。而我认为Kubernetes 还有 容器都会成为基础设施，或是无服务这种更高层级平台的组成部分。

[00:19:30** Kelsey Hightower:

对吗？这是我的代码片段，在幕后，所有的平台下都可以获取使用，在容器中打包并为你所用，但是不需要向你公开所有这些。因此，在未来，我认为随着Kubernetes变得普遍，容器的应用场景将从大大小小的供应商或个人，提升到只有云供应商才能完成的事情上，这些事情往往需要专业知识和软件投资。容器可能会到处都是，也可能就此隐藏起来。它会随着应用的扩展而渐渐消失。

**[00:20:30]** Saron Yitbarek:

Kelsey Hightower是Google的员工开发人员。在2017年秋天，Docker宣布支持Kubernetes。他们并不是说就放弃Swarm了，但是决定与容器编排竞赛的获胜方和解。他们并不孤独，Azure和AWS都宣布了对Kubernetes的支持。与此同时，像OpenShift这样的Kubernetes发行版仍在不断发展。我们得到的是一个可以扩展和支持新的用例的核心 Kubernetes，这些用例包括微服务或持续集成项目。

**[00:21:00]** Clayton Coleman:

这个生态系统在类似Linux的模式下能得到最好的发展，而且我认为我们正朝着这条道路迈进。因此，就像所有优秀的开源项目一样，相对于单打独斗，让每个人都能够参与进来构建更好的东西，那就算是成功了。

**[00:21:00]** Saron Yitbarek:

所有这一切都在快速发生着。毕竟，这是一场竞赛，而这正是我们期望能从开源中获得的。在我们才刚刚理解什么是容器时，第一轮几乎就结束了，

来自Red Hat的Scott McCarty 如是说。

**[00:21:00]***Scott McCarty:

回想一下两年前，容器镜像格式还是一个巨大的战场，然后回到六个月至一年前，容器编排成为了下一个巨大的战场。紧接着，如果你看看2017年的KubeCon及前几周，几乎每个主要供应商都宣布支持 Kubernetes。因此，很明显Kubernetes在这一点上获胜了。

**[00:22:00]** Saron Yitbarek:

这章关于容器战争的故事即将结束。就像容器技术的开始一样迅速。

**[00:22:00]***Scott McCarty:

因此，Kubernetes已经成为标准，其美妙之处在于现在的应用定义已经标准化了。因此，任何人都可以在这些YAML文件中使用Kubernetes对象并定义应用，这就是我们共同所追求的，处理大型扩展系统，我已经等了20年。

**[00:22:30]** Saron Yitbarek:

 Kubernetes的成功看起来板上钉钉，但即使在竞赛尘埃落定，我们仍然面临更大的一些问题。容器是否会成为未来几年的默认选择？是否会促使更多的云原生开发？而之后的转变将带来的工具和服务上的哪些转变？就我们目前所知。通过CNCF，社区将继续改进Kubernetes，并根据它的使命，我们将建立一套全新的容器技术。


容器已经催生了大量新的基础设施，伴随而来的是全新的服务的需求。举个例子让你感受下容器的整合程度和发展速度，仅Netflix每周就运行超过一百万个容器。毫不夸张得说，容器就是建筑未来的基石。

**[00:24:00]** Saron Yitbarek:
 
这一整季的栏目中，我们一直在追踪开源运动的演变。首先看到Linux如何主导战场，以及开源是如何改变了我们日常使用的业务、工作流程和工具。容器是开源运动中最重要的里程碑之一。它们具有很好的迁移性，轻量，易于扩展。容器技术很好地体现了开源的优势，开源项目自然而然也推动了容器技术的发展。这是一个全新世界，我们不用再担心从不同计算机之间或者云间的迁移。

**[00:24:30]** Saron Yitbarek:

容器的标准化发生得比任何人预测的都要快。接下来的一集，我们将转向另一场悬而未决的战争。云间战争史无前例地催生者行业重量级人物。微软、阿里巴巴、谷歌和亚马逊四家云供应商的摩擦正在升温，随之而来的将是一场暴风骤雨。我们将会和广受欢迎的几位代码英雄一起探讨云间战争。

 
**[00:25:00]** Saron Yitbarek:

Command Line Heroes是红帽的原创播客。有关我们的播客和其他更多信息，请访问RedHat.com/CommandLineHeroes。在那里，您也可以关注我们的消息订阅。想要免费听取最新内容，请订阅我们的节目。也可以在Apple Podcast、Spotify、 Google Play、CastBox中搜索Command Line Heroes，然后点击订阅，您将在第一时间获得我们的内容更新。
我是Saron Yitbarek，感谢收听，继续编码。 

--------------------------------------------------------------------------------

via: https://www.redhat.com/en/command-line-heroes/season-1/the-containers-derby

作者：[Red Hat][a]
选题：[bestony][b]
译者：[lujun9972](https://github.com/lujun9972)
校对：[校对者ID](https://github.com/校对者ID)

本文由 [LCRH](https://github.com/LCTT/LCRH) 原创编译，[Linux中国](https://linux.cn/) 荣誉推出
[a]: https://www.redhat.com/en/command-line-heroes
[b]: https://github.com/bestony
